<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Level 2 — 冷色像素</title>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <main class="container">
      <h1>Level 2 — 冷色（黑白 + 2 冷色）</h1>
      <p>Prototype page. Click "Complete Level" to drop the key.</p>
      <canvas id="lvl2" width="320" height="176" style="image-rendering:pixelated;border:1px solid #ccc;background:#e6f7ff"></canvas>
      <p>
        This is a placeholder: the real game should be implemented here by the assigned team member.
      </p>
      <button id="complete">Complete Level (drop code)</button>
      <a href="index.html">Back to main</a>
    </main>

    <script>
      const c = document.getElementById('lvl2');
      const ctx = c.getContext('2d');
      ctx.fillStyle = '#e6f7ff'; ctx.fillRect(0,0,c.width,c.height);
      ctx.fillStyle = '#1b3b4f'; ctx.fillRect(40,30,16*6,16*6);

      document.getElementById('complete').addEventListener('click', ()=>{
        if(window.SpliceMain && window.SpliceMain.reportLevelComplete){
          window.SpliceMain.reportLevelComplete(2);
        } else {
          const s = JSON.parse(localStorage.getItem('splicing_state_v1')||'{}');
          s.droppedKeys = s.droppedKeys || [];
          if(!s.droppedKeys.includes('0218')) s.droppedKeys.push('0218');
          localStorage.setItem('splicing_state_v1', JSON.stringify(s));
          alert('Dropped code: 0218');
        }
      });
    </script>
  </body>
</html>
